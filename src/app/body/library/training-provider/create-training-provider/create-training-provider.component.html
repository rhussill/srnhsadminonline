<div id="body">
    <form #form="ngForm" (ngSubmit)="submit(form.value)">
        <div id="header">
            <h3 mat-dialog-title>Add Training  Provider</h3>
            <mat-divider></mat-divider>
        </div>
       
        <table>
            <tr>
                <td class="labels">
                    <span>Training Provider</span>
                </td>
                <td class="labels">
                    <mat-form-field appearance="legacy">
                        <input 
                        matInput
                        ngModel
                        #providerName 
                        name="providerName"
                        required
                        pattern="^[a-zA-Z ]+$"
                        maxlength="100"
                        minlength="2"
                        >
                    </mat-form-field>
                </td> 
            </tr>

        <tr>
            <td class="labels">
                <span>Website</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="website"
                    required
                    pattern="^[a-zA-Z. ]+$"
                    maxlength="100"
                    minlength="2"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td class="labels">
                <span>Address</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="address"
                    required
                    pattern="^[a-zA-Z ]+$"
                    maxlength="100"
                    minlength="2"
                    >
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td ngClass="labels">
                <span>Contact Person</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="pointofContact"
                    required
                    pattern="^[a-zA-Z ]+$"
                    maxlength="100"
                    minlength="2"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td class="labels">
                <span>Telephone Number</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="telNo"
                    required
                    pattern="[0-9]{11}"
                    minlength="11"
                    maxlength="11"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td class="labels">
                <span>Mobile Number</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="mobileNo"
                    required
                    pattern="[0-9]{11}"
                    minlength="11"
                    maxlength="11"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td class="labels">
                <span>E-mail Address</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="emailAdd"
                    pattern="^[a-zA-Z0-9!@#$%^&]+@[a-z.]+.[a-z]{2,3}$"
                    required
                    minlength="10"
                    maxlength="50"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td class="labels">
                <span>TIN</span>
            </td>
            <td class="labels">
                <mat-form-field appearance="legacy">
                    <input 
                    matInput 
                    ngModel 
                    name="TIN"
                    pattern="^[0-9]{12}$"
                    required
                    minlength="12"
                    maxlength="12"
                    >
                </mat-form-field>
            </td>
        </tr>

        <tr>
            <td colspan="2">

                <div [formGroup]="paymentDetails">
                    <div formArrayName="entries" class="payment">
                        <h3>Payment Details</h3>
                        <mat-card *ngFor="let entry of entries.controls;let i=index" 
                        class="payment-details-div" class="mat-elevation-z0">
                            <div #paymentForm [formGroupName]="i">

                                <mat-form-field appearance="outline">
                                    <mat-label>Account Number</mat-label>
                                    <input 
                                    matInput 
                                    type="text" 
                                    formControlName="account_number"
                                    pattern="^[0-9]{5,13}$"
                                    minlength="5"
                                    maxlength="13"
                                    >
                                </mat-form-field>

                                <mat-form-field appearance="outline">
                                    <mat-label>Payee</mat-label>
                                    <input 
                                    matInput 
                                    type="text" 
                                    formControlName="payee"
                                    required
                                    pattern="^[a-zA-Z ]+$"
                                    maxlength="100"
                                    minlength="2"
                                    >
                                </mat-form-field>

                            </div>
                        </mat-card>
                    </div>
                </div>

                <div id="payment-controls">
                    <button mat-raised-button color primary type="button" 
                    (click)="addEntries()">Add New Payment Option</button>
                </div>
            </td>
        </tr>

        </table>

        <br>

        <div id="controls">
            <button mat-button type="button" (click)="cancelClicked()">Cancel</button>
            <button mat-raised-button type="submit" color="primary" [disabled]="form.invalid || paymentDetails.invalid">Save</button>
        </div>
    </form>
</div>

